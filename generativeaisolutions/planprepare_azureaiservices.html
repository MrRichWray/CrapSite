<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- STEP 1: (Optional) Change the browser tab title -->
    <title>Quiz Template</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation; /* Prevents double-tap zoom on mobile */
        }
        .quiz-option {
            transition: all 0.2s ease-in-out;
        }
        .quiz-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .correct {
            background-color: #dcfce7 !important; /* Lighter green */
            border-color: #22c55e !important;
            color: #15803d;
        }
        .incorrect {
            background-color: #fee2e2 !important; /* Lighter red */
            border-color: #ef4444 !important;
            color: #b91c1c;
        }
        .correct-answer-text {
            color: #16a34a;
            font-weight: 600;
        }
        /* Animation for modal */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .modal-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-2 sm:p-4">

    <!-- Title Page Container -->
    <div id="title-container" class="w-full max-w-2xl bg-white p-8 sm:p-12 rounded-2xl shadow-lg text-center">
        <!-- STEP 2: Update the quiz title and subtitle on the title page -->
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Plan and Prepare</h1>
        <p class="text-lg text-gray-600 mt-4">Azure AI Services</p>
        <p id="title-pool-count" class="text-md text-gray-500 mt-6">Total questions in pool: 0</p>
        <button id="begin-quiz-btn" class="mt-8 w-full py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 text-lg">Begin Quiz</button>
        <!-- Added Exit Link -->
        <a href="../index.html" class="mt-4 inline-block text-sm text-gray-500 hover:underline">Exit to Main Page</a>
    </div>

    <!-- Quiz Container -->
    <div id="quiz-container" class="hidden w-full max-w-2xl bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
        <!-- Header -->
        <div class="mb-6">
            <div id="progress-container" class="w-full bg-gray-200 rounded-full h-2.5">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out"></div>
            </div>
            <div class="flex justify-between items-center mt-2">
                <div id="progress-text" class="text-sm text-gray-600">Question 0 of 0</div>
                <!-- Added Exit Link to quiz header -->
                <div>
                    <button id="restart-quiz-ingame-btn" class="text-sm font-semibold text-blue-600 hover:underline focus:outline-none">Restart Quiz</button>
                    <a href="../index.html" class="ml-4 text-sm font-semibold text-gray-500 hover:underline focus:outline-none">Exit</a>
                </div>
            </div>
        </div>

        <!-- Question Area -->
        <div id="question-area" class="mb-6 min-h-[6rem] flex items-center justify-center">
            <h2 id="question-text" class="text-lg sm:text-xl font-semibold text-gray-700 text-center"></h2>
        </div>

        <!-- Options Area -->
        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Options will be dynamically inserted here -->
        </div>

        <!-- Feedback Area -->
        <div id="feedback-area" class="mt-6 text-center min-h-[4rem] flex items-center justify-center p-2">
             <p id="feedback-text" class="font-medium text-base"></p>
        </div>


        <!-- Navigation -->
        <div class="mt-6 flex justify-between items-center">
            <button id="prev-btn" class="py-2 px-4 bg-gray-300 text-gray-700 font-semibold rounded-lg shadow-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed">Previous</button>
            <button id="next-btn" class="py-2 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">Next</button>
        </div>
    </div>

    <!-- Final Score Modal -->
    <div id="score-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-2xl shadow-2xl text-center w-full max-w-md modal-fade-in">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Quiz Complete!</h2>
            <p class="text-gray-600 mb-2">Your final score is:</p>
            <p id="final-score" class="text-5xl font-extrabold text-blue-600 mb-6">0/0</p>
            <p id="score-message" class="text-lg font-medium text-gray-700 mb-6"></p>
            <div class="flex flex-col sm:flex-row gap-4">
                 <button id="repeat-quiz-btn" class="w-full py-3 px-6 bg-gray-600 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75">Repeat Quiz</button>
                <button id="new-quiz-btn" class="w-full py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">New Quiz</button>
            </div>
            <!-- Added Exit Link -->
            <a href="../index.html" class="mt-4 inline-block text-sm text-gray-500 hover:underline">Exit to Main Page</a>
        </div>
    </div>


    <script>
        // STEP 3: Replace the content of this array with your new questions.
        // Ensure each question object follows this format:
        // { 
        //   question: "Your question text here?", 
        //   options: ["Option A", "Option B", "Option C", "Option D"], 
        //   answer: "The exact text of the correct option" 
        // },
        const questionPool = [
            // ==> PASTE YOUR NEW QUESTION POOL ARRAY HERE <==
            // EXAMPLE:
    {
        question: "Which AI capability is described as the ability to generate original responses to natural language prompts?",
        options: ["Computer Vision", "Generative AI", "Decision Support", "Speech"],
        answer: "Generative AI"
    },
    {
        question: "An application that analyzes social media messages to categorize them as positive or negative is using which AI capability?",
        options: ["Information Extraction", "Natural Language Processing", "Agents", "Computer Vision"],
        answer: "Natural Language Processing"
    },
    {
        question: "What is the primary function of the Azure AI Vision service?",
        options: ["To translate text between languages.", "To implement text-to-speech and speech-to-text transformations.", "To detect objects, generate captions, and read text in images.", "To create searchable vector indexes for data."],
        answer: "To detect objects, generate captions, and read text in images."
    },
    {
        question: "If you need to train a custom computer vision model for a specific image classification task, which service should you use?",
        options: ["Azure AI Vision", "Azure AI Face", "Azure AI Custom Vision", "Azure OpenAI"],
        answer: "Azure AI Custom Vision"
    },
    {
        question: "What is a key use case for Azure AI Search in a generative AI solution?",
        options: ["To fine-tune the language model.", "To create vector indexes for data to ground prompts.", "To flag potentially offensive content.", "To generate images from text prompts."],
        answer: "To create vector indexes for data to ground prompts."
    },
    {
        question: "What is a primary advantage of provisioning a multi-service Azure AI resource over standalone resources?",
        options: ["It provides access to a free-tier SKU.", "It allows for easier management of applications that use multiple AI capabilities.", "It is the only way to access Azure AI Vision.", "It is required for all medium to large-scale development scenarios."],
        answer: "It allows for easier management of applications that use multiple AI capabilities."
    },
    {
        question: "Which multi-service resource type includes Azure OpenAI and is recommended for use with Azure AI Foundry projects?",
        options: ["Azure AI Service", "Azure AI Foundry", "Azure AI Custom Vision", "Azure AI Search"],
        answer: "Azure AI Foundry"
    },
    {
        question: "What should you consult to determine the regional availability for Azure OpenAI models?",
        options: ["The Azure pricing calculator.", "The product availability table for all Azure services.", "The model availability table in the Azure OpenAI documentation.", "The Azure AI Foundry portal."],
        answer: "The model availability table in the Azure OpenAI documentation."
    },
    {
        question: "An 'executive assistant' agent that can automate booking a taxi for a meeting is an example of which AI capability?",
        options: ["Decision Support", "Agents", "Information Extraction", "Speech"],
        answer: "Agents"
    },
    {
        question: "What is the term for language models that have been trained on huge volumes of data and include many millions of parameters?",
        options: ["Small Language Models (SLMs)", "Multi-modal models", "Custom Vision Models", "Large Language Models (LLMs)"],
        answer: "Large Language Models (LLMs)"
    },
    {
        question: "Which Azure AI service is a specialized computer vision implementation for detecting and recognizing human faces, with some restricted features?",
        options: ["Azure AI Vision", "Azure AI Custom Vision", "Azure AI Face", "Azure AI Content Understanding"],
        answer: "Azure AI Face"
    },
    {
        question: "For most medium to large-scale development, what is the recommended way to provision Azure AI services resources?",
        options: ["As standalone resources only.", "As part of an Azure AI Foundry project.", "Directly through the Azure command-line interface.", "Using the free-tier SKU for all services."],
        answer: "As part of an Azure AI Foundry project."
    },
    {
        question: "Which of the following services is included in the 'Azure AI Service' multi-service resource but NOT explicitly listed as a separate service in the 'Azure AI Foundry' multi-service resource?",
        options: ["Azure AI Speech", "Azure AI Custom Vision", "Azure AI Language", "Azure OpenAI"],
        answer: "Azure AI Custom Vision"
    },
    {
        question: "What tool can be used to estimate the costs your expected usage of Azure AI services will incur?",
        options: ["The Azure AI Foundry portal", "The Azure pricing calculator", "The Azure command-line interface", "The model availability table"],
        answer: "The Azure pricing calculator"
    },
    {
        question: "An automated expense claims application that extracts purchase dates and total costs from a scanned receipt is using which AI capability?",
        options: ["Generative AI", "Decision Support", "Information Extraction", "Agents"],
        answer: "Information Extraction"
    },
    {
        question: "What is a multi-modal model capable of handling?",
        options: ["Only text-based prompts.", "Only speech-based prompts.", "Image or speech prompts in addition to text.", "Only generating code."],
        answer: "Image or speech prompts in addition to text."
    },
    {
        question: "Which Azure AI service provides multi-modal content analysis to extract data from forms, documents, images, videos, and audio streams?",
        options: ["Azure AI Document Intelligence", "Azure AI Content Understanding", "Azure AI Vision", "Azure AI Language"],
        answer: "Azure AI Content Understanding"
    },
    {
        question: "What is a benefit of provisioning standalone Azure AI services?",
        options: ["They are always more powerful than multi-service resources.", "They often include a free-tier SKU for evaluation.", "They are required for Azure AI Foundry projects.", "They provide a single endpoint for all services."],
        answer: "They often include a free-tier SKU for evaluation."
    },
    {
        question: "What is the core technology that modern AI solutions are built on, according to the text?",
        options: ["Simple if-then logic statements.", "Manually coded algorithms.", "Machine learning models.", "Relational databases."],
        answer: "Machine learning models."
    },
    {
        question: "Which Azure service is used to flag content that is potentially offensive, risky, or otherwise undesirable?",
        options: ["Azure AI Translator", "Azure AI Foundry Content Safety", "Azure AI Speech", "Azure AI Face"],
        answer: "Azure AI Foundry Content Safety"
    },
    {
        question: "What is the primary purpose of the Azure AI Translator service?",
        options: ["To analyze the sentiment of text.", "To translate text between a large number of languages.", "To recognize speakers from their voice.", "To extract entities from documents."],
        answer: "To translate text between a large number of languages."
    },
    {
        question: "An AI capability that analyzes demographic and economic factors to predict real estate market trends is an example of:",
        options: ["Generative AI", "Decision Support", "Computer Vision", "Agents"],
        answer: "Decision Support"
    },
    {
        question: "Which two multi-service resource types are available for provisioning multiple AI services?",
        options: ["Azure AI Vision and Azure AI Language", "Azure AI Services and Azure AI Foundry", "Azure OpenAI and Azure AI Search", "Standalone and Free-Tier"],
        answer: "Azure AI Services and Azure AI Foundry"
    },
    {
        question: "What is the purpose of an 'endpoint' for an Azure AI resource?",
        options: ["It is a security key for authentication.", "It is the physical location of the data center.", "It is the URL where the service can be consumed by an application.", "It is a tool for estimating costs."],
        answer: "It is the URL where the service can be consumed by an application."
    },
    {
        question: "Which service would you use to build a conversational language model or a question-answering solution?",
        options: ["Azure AI Vision", "Azure AI Speech", "Azure AI Language", "Azure AI Translator"],
        answer: "Azure AI Language"
    },
    {
        question: "Which Responsible AI principle states that systems should treat all people fairly and avoid bias?",
        options: ["Transparency", "Accountability", "Fairness", "Inclusiveness"],
        answer: "Fairness"
    },
    {
        question: "What is a key practice for ensuring Fairness in an AI model, such as one for loan approvals?",
        options: ["Using the largest possible dataset.", "Carefully reviewing training data to ensure it's representative of all groups.", "Applying the highest security standards.", "Making the model's decisions easy to understand."],
        answer: "Carefully reviewing training data to ensure it's representative of all groups."
    },
    {
        question: "The principle of Reliability and Safety is particularly critical for which type of AI system?",
        options: ["A system that recommends movies.", "A system for an autonomous vehicle.", "A system that generates advertising copy.", "A system that translates languages."],
        answer: "A system for an autonomous vehicle."
    },
    {
        question: "What does the 'probabilistic nature' of machine learning models mean for developers?",
        options: ["The models are always 100% correct.", "Developers must apply thresholds when evaluating confidence scores for predictions.", "The models can only be used for probability calculations.", "The models require minimal testing."],
        answer: "Developers must apply thresholds when evaluating confidence scores for predictions."
    },
    {
        question: "Which Responsible AI principle is concerned with making users fully aware of a system's purpose, how it works, and its limitations?",
        options: ["Privacy and Security", "Inclusiveness", "Transparency", "Fairness"],
        answer: "Transparency"
    },
    {
        question: "The principle of Accountability in Responsible AI emphasizes that:",
        options: ["The AI system itself is solely accountable for its actions.", "Users are accountable for how they use the AI.", "The developers and designers of the AI system are ultimately responsible for it.", "Only legal experts can determine accountability."],
        answer: "The developers and designers of the AI system are ultimately responsible for it."
    },
    {
        question: "How can developers optimize for the 'Inclusiveness' principle?",
        options: ["By making the user interface visually appealing.", "By ensuring the design and testing process includes input from a diverse group of people.", "By using the most complex algorithms available.", "By ensuring the application is profitable."],
        answer: "By ensuring the design and testing process includes input from a diverse group of people."
    },
    {
        question: "What is the primary concern of the 'Privacy and Security' principle in Responsible AI?",
        options: ["Ensuring the AI model performs quickly.", "Making the AI system's decisions understandable.", "Protecting personal details that may be in the large volumes of data used by models.", "Making the AI available to everyone."],
        answer: "Protecting personal details that may be in the large volumes of data used by models."
    },
    {
        question: "Sharing information about a model's confidence score for a prediction aligns with which Responsible AI principle?",
        options: ["Fairness", "Transparency", "Accountability", "Reliability and Safety"],
        answer: "Transparency"
    },
    {
        question: "What does the text suggest is the ultimate responsibility of developers regarding AI systems, even if they seem to operate autonomously?",
        options: ["To ensure the system is always online.", "To continuously add new features.", "To ensure the system meets responsible and legal standards.", "To make the system as complex as possible."],
        answer: "To ensure the system meets responsible and legal standards."
    }        ];

        // --- DOM Elements ---
        const titleContainer = document.getElementById('title-container');
        const quizContainer = document.getElementById('quiz-container');
        const beginQuizBtn = document.getElementById('begin-quiz-btn');
        const titlePoolCount = document.getElementById('title-pool-count');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackText = document.getElementById('feedback-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const scoreModal = document.getElementById('score-modal');
        const finalScore = document.getElementById('final-score');
        const scoreMessage = document.getElementById('score-message');
        const newQuizBtn = document.getElementById('new-quiz-btn');
        const repeatQuizBtn = document.getElementById('repeat-quiz-btn');
        const restartQuizIngameBtn = document.getElementById('restart-quiz-ingame-btn');

        // --- State Variables ---
        let currentQuizQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let questionsAnswered = false;
        const PASSING_SCORE_PERCENTAGE = 90;

        // --- Functions (No changes needed below this line) ---
        
        function startNewQuiz() {
            currentQuizQuestions = [...questionPool];
            resetQuizState();
            loadQuestion();
        }
        
        function repeatQuiz() {
            resetQuizState();
            loadQuestion();
        }

        function resetQuizState() {
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuizQuestions.length).fill(null);
            questionsAnswered = false;
            
            scoreModal.classList.add('hidden');
            const modalContent = scoreModal.querySelector('div');
            modalContent.classList.remove('modal-fade-in');
        }

        function loadQuestion() {
            feedbackText.textContent = '';
            feedbackText.className = 'font-medium text-base';
            optionsContainer.innerHTML = '';
            questionsAnswered = false;

            if (!currentQuizQuestions || currentQuizQuestions.length === 0) {
                questionText.textContent = "Loading quiz...";
                return;
            }

            const currentQuestion = currentQuizQuestions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;

            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('quiz-option', 'w-full', 'text-left', 'p-4', 'bg-gray-50', 'border', 'border-gray-300', 'rounded-lg', 'hover:bg-blue-100', 'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-300');
                button.onclick = () => selectOption(button, option);
                optionsContainer.appendChild(button);
            });

            updateProgress();
            updateNavigation();
            showPreviousAnswer();
        }

        function selectOption(selectedButton, selectedOption) {
            if (questionsAnswered) return; 
            questionsAnswered = true;
            userAnswers[currentQuestionIndex] = selectedOption;

            const currentQuestion = currentQuizQuestions[currentQuestionIndex];
            const isCorrect = selectedOption === currentQuestion.answer;
            
            if (isCorrect) {
                selectedButton.classList.add('correct');
                feedbackText.textContent = "Correct!";
                feedbackText.classList.add('text-green-600');
            } else {
                selectedButton.classList.add('incorrect');
                feedbackText.innerHTML = `Incorrect. The correct answer is: <strong class="correct-answer-text">${currentQuestion.answer}</strong>`;
                feedbackText.classList.add('text-red-600');
            }

            Array.from(optionsContainer.children).forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === currentQuestion.answer) {
                    btn.classList.add('correct');
                }
            });
            
            setTimeout(() => {
                if (currentQuestionIndex < currentQuizQuestions.length - 1) {
                    nextQuestion();
                } else {
                    showScore();
                }
            }, 2500);
        }
        
        function showPreviousAnswer() {
            const previousAnswer = userAnswers[currentQuestionIndex];
            if (previousAnswer !== null) {
                questionsAnswered = true;
                const currentQuestion = currentQuizQuestions[currentQuestionIndex];
                const isCorrect = previousAnswer === currentQuestion.answer;

                if (isCorrect) {
                    feedbackText.textContent = "Correct!";
                    feedbackText.classList.add('text-green-600');
                } else {
                    feedbackText.innerHTML = `Incorrect. The correct answer is: <strong class="correct-answer-text">${currentQuestion.answer}</strong>`;
                    feedbackText.classList.add('text-red-600');
                }

                Array.from(optionsContainer.children).forEach(btn => {
                    btn.disabled = true;
                    if (btn.textContent === currentQuestion.answer) {
                        btn.classList.add('correct');
                    }
                    if (btn.textContent === previousAnswer && !isCorrect) {
                        btn.classList.add('incorrect');
                    }
                });
            }
        }

        function updateProgress() {
            const progressPercentage = ((currentQuestionIndex + 1) / currentQuizQuestions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `Question ${currentQuestionIndex + 1} of ${currentQuizQuestions.length}`;
        }

        function updateNavigation() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = (currentQuestionIndex === currentQuizQuestions.length - 1) ? 'Finish' : 'Next';
        }
        
        function nextQuestion() {
            if (currentQuestionIndex < currentQuizQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showScore();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showScore() {
            quizContainer.classList.add('hidden');
            scoreModal.classList.remove('hidden');
            
            const modalContent = scoreModal.querySelector('div');
            modalContent.classList.add('modal-fade-in');

            let correctCount = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === currentQuizQuestions[index].answer) {
                    correctCount++;
                }
            });

            const scorePercentage = (correctCount / currentQuizQuestions.length) * 100;
            finalScore.textContent = `${correctCount}/${currentQuizQuestions.length} (${scorePercentage.toFixed(0)}%)`;

            if (scorePercentage >= PASSING_SCORE_PERCENTAGE) {
                scoreMessage.textContent = "Congratulations, you passed! You have a strong grasp of this material.";
                scoreMessage.classList.add('text-green-600');
                scoreMessage.classList.remove('text-red-600');
            } else {
                scoreMessage.textContent = "You did not pass. A score of 90% is required. Please review the material and try again.";
                scoreMessage.classList.add('text-red-600');
                scoreMessage.classList.remove('text-green-600');
            }
        }

        // --- Event Listeners ---
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        
        newQuizBtn.addEventListener('click', () => {
            quizContainer.classList.remove('hidden');
            startNewQuiz();
        });
        
        repeatQuizBtn.addEventListener('click', () => {
            quizContainer.classList.remove('hidden');
            repeatQuiz();
        });

        restartQuizIngameBtn.addEventListener('click', repeatQuiz);

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            titleContainer.classList.remove('hidden');
            quizContainer.classList.add('hidden');
            scoreModal.classList.add('hidden');
            
            titlePoolCount.textContent = `Total questions in pool: ${questionPool.length}`;
            
            beginQuizBtn.addEventListener('click', () => {
                titleContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                startNewQuiz();
            });
        });
    </script>
</body>
</html>
